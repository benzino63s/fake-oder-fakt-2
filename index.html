<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fake oder Fakt?</title>
<style>
body { font-family: Arial, sans-serif; background: #e3f2fd; margin:0; display:flex; flex-direction:column; align-items:center; padding:20px; }
h1 { color:#0d47a1; margin-bottom:2rem; font-size:2.5rem; text-align:center; }

#scoreDisplay { position:fixed; top:10px; right:20px; font-size:1.5rem; font-weight:bold; color:#0d47a1; }

#startMenu { text-align:center; margin-top:50px; }
#startMenu button { padding:1rem 2rem; font-size:1.2rem; border:none; border-radius:10px; background-color:#007bff; color:white; cursor:pointer; transition:0.2s; }
#startMenu button:hover { background-color:#0056b3; transform:scale(1.05); }

.news-box { background:white; padding:2rem 1rem; border-radius:15px; margin:1rem; max-width:700px; width:90%; box-shadow:0 6px 12px rgba(0,0,0,0.25); display:flex; flex-direction:column; align-items:center; min-height:300px; opacity:0; transform:translateY(20px); transition: all 0.5s ease; }
.news-box.show { opacity:1; transform:translateY(0); }

#newsText { font-size:2rem; text-align:center; margin-bottom:1rem; border:2px solid #0d47a1; padding:1rem; border-radius:10px; width:100%; word-wrap:break-word; }

img { max-width:100%; border-radius:10px; margin-bottom:1rem; object-fit:contain; opacity:0; transition: opacity 0.5s ease; }

button.choice { margin:0.5rem; padding:0.8rem 1.5rem; font-size:1.2rem; border-radius:8px; cursor:pointer; background-color:#e0e0e0; transition:0.2s; }
button.choice:hover { transform:scale(1.05); }

.correct { background-color:#4CAF50 !important; color:white; }
.wrong { background-color:#F44336 !important; color:white; }

.result { margin-top:1rem; font-weight:bold; font-size:1rem; text-align:center; display:none; }

.timer { font-size:1.2rem; color:#0d47a1; font-weight:bold; margin-bottom:0.5rem; }

#progressContainer { width:90%; max-width:700px; height:20px; background:#cfd8dc; border-radius:10px; overflow:hidden; margin-bottom:20px; }
#progressBar { width:100%; height:100%; background:#0d47a1; transition: width 0.2s linear; }

#questionCount { margin-bottom:10px; font-size:1.2rem; color:#0d47a1; }

#gameOver { display:none; text-align:center; padding:2rem; border-radius:12px; background-color:#f0f8ff; box-shadow:0 4px 12px rgba(0,0,0,0.2); max-width:500px; margin:3rem auto; font-family:sans-serif; opacity:0; transform:scale(0.8); transition:all 0.5s ease; }
#gameOver.show { opacity:1; transform:scale(1); }
#gameOverTitle { font-size:2rem; margin-bottom:1rem; }
#gameOverMessage { font-size:1.2rem; margin-bottom:1rem; }
#gameOverScore { font-size:1.5rem; font-weight:bold; }
#gameOver button { padding:0.8rem 1.5rem; font-size:1rem; border:none; border-radius:8px; background-color:#007bff; color:white; cursor:pointer; transition:0.2s; }
#gameOver button:hover { background-color:#0056b3; transform:scale(1.05); }

@media (max-width:600px){
  h1 { font-size:2rem; }
  #newsText { font-size:1.5rem; }
  button.choice { font-size:1rem; padding:0.5rem 1rem; }
  #scoreDisplay { font-size:1.2rem; }
  .timer { font-size:1rem; }
  #questionCount { font-size:1rem; }
}
</style>
</head>
<body>

<h1>Fake oder Fakt?</h1>
<div id="scoreDisplay">Punkte: 0</div>

<div id="startMenu">
  <button id="startButton">Spiel starten</button>
</div>

<div class="timer" id="timer" style="display:none;">20</div>
<div id="questionCount" style="display:none;">Frage 1 von 15</div>
<div id="progressContainer" style="display:none;">
  <div id="progressBar"></div>
</div>

<div class="news-box" id="news" style="display:none;">
  <img id="newsImg" src="" alt="">
  <div id="newsText"></div>
</div>

<div id="choices" style="display:none; text-align:center;">
  <button class="choice" onclick="choose('Fakt', this)">Fakt</button>
  <button class="choice" onclick="choose('Fake', this)">Fake</button>
  <button class="choice" onclick="choose('Unsicher', this)">Unsicher</button>
</div>

<div class="result" id="result"></div>

<div id="gameOver">
  <h2 id="gameOverTitle"></h2>
  <p id="gameOverMessage"></p>
  <p id="gameOverScore"></p>
  <button onclick="restartGame()">Nochmals spielen</button>
</div>

<audio id="correctSound" src="sounds/correct.mp3"></audio>
<audio id="wrongSound" src="sounds/wrong.mp3"></audio>

<script>
const newsList = [
  {text:"Bundesregierung beschlieÃŸt neues Klimaschutzgesetz", answer:"Fakt", explanation:"Die Bundesregierung hat das neue Gesetz offiziell beschlossen.", img:"images/Bundeskanzleramt.jpg"},
  {text:"Neue Impfung schÃ¼tzt vor allen Viren", answer:"Fake", explanation:"Das ist falsch. Impfungen schÃ¼tzen nur vor bestimmten Viren, nicht vor allen.", img:"images/vaccine.jpg"},
  {text:"Statistisches Bundesamt: Geburtenrate sinkt seit 2015", answer:"Fakt", explanation:"Das stimmt laut Destatis.", img:"images/destatis.jpg"},
  {text:"Schokolade heilt Krebs in 7 Tagen", answer:"Fake", explanation:"Das ist eine Falschmeldung, es gibt keine solche Studie.", img:"images/schokolade.jpg"},
  {text:"UN-Bericht: Globale COâ‚‚-Emissionen steigen weiterhin", answer:"Fakt", explanation:"Richtig. Quelle: https://www.unep.org/resources/emissions-gap-report-2023", img:"images/un.jpg"},
  {text:"Facebook verbietet allen Nutzern Ã¼ber 50 die Anmeldung", answer:"Fake", explanation:"Falsch. So eine Regel gibt es nicht.", img:"images/facebook.jpg"},
  {text:"NASA verÃ¶ffentlicht neue Bilder vom Mars", answer:"Fakt", explanation:"Richtig, der Marsrover liefert regelmÃ¤ÃŸig neue Bilder.", img:"images/mars.jpg"},
  {text:"Yoga verbessert die SchlafqualitÃ¤t", answer:"Fakt", explanation:"Studien zeigen, dass regelmÃ¤ÃŸiges Yoga den Schlaf verbessern kann.", img:"images/yoga.jpg"},
  {text:"In Deutschland wird Schokolade nach 22 Uhr verboten", answer:"Fake", explanation:"Das ist ein Meme, kein Gesetz.", img:"images/schokolade.jpg"},
  {text:"Lokale Zeitung: Strompreise steigen im nÃ¤chsten Jahr", answer:"Fakt", explanation:"Richtig, laut offiziellen Mitteilungen steigen die Preise.", img:"images/strom.jpg"},
  {text:"Smartphones verursachen Krebs innerhalb eines Monats", answer:"Fake", explanation:"Es gibt keine seriÃ¶sen Studien, die das belegen.", img:"images/phone.jpg"},
  {text:"Olympische Spiele 2024 finden in Paris statt", answer:"Fakt", explanation:"Richtig, die Spiele sind offiziell bestÃ¤tigt.", img:"images/paris.jpg"},
  {text:"Bananen heilen ErkÃ¤ltungen sofort", answer:"Fake", explanation:"Das ist eine Falschmeldung, keine FrÃ¼chte heilen ErkÃ¤ltungen sofort.", img:"images/banana.jpg"},
  {text:"Weltbank berichtet Ã¼ber globales Wirtschaftswachstum", answer:"Fakt", explanation:"Richtig, die aktuellen Berichte bestÃ¤tigen Wachstum.", img:"images/worldbank.jpg"},
  {text:"Katzen kÃ¶nnen fliegen, wenn man sie gut trainiert", answer:"Fake", explanation:"NatÃ¼rlich unmÃ¶glich, nur ein Witz.", img:"images/cat.jpg"}
];

let current=0, score=0, timeLeft=20, timerInterval;

function shuffle(array){for(let i=array.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1)); [array[i],array[j]]=[array[j],array[i]];}}

document.getElementById('startButton').addEventListener('click', startGame);

function startGame(){
  document.getElementById('startMenu').style.display='none';
  document.getElementById('news').style.display='flex';
  document.getElementById('choices').style.display='block';
  document.getElementById('timer').style.display='block';
  document.getElementById('progressContainer').style.display='block';
  document.getElementById('questionCount').style.display='block';
  shuffle(newsList);
  current = 0;
  score = 0;
  document.getElementById('scoreDisplay').innerText="Punkte: 0";
  showNews();
}

function showNews(){
  if(current>=newsList.length){ clearInterval(timerInterval); showGameOver(score); return; }
  const news=document.getElementById('news');
  news.classList.remove('show'); void news.offsetWidth;
  document.getElementById('newsText').innerHTML=newsList[current].text;
  const img=document.getElementById('newsImg'); img.style.opacity=0; img.src=newsList[current].img;
  news.classList.add('show'); setTimeout(()=>{img.style.opacity=1;},200);

  document.getElementById('result').style.display='none';
  document.querySelectorAll(".choice").forEach(btn=>{btn.classList.remove("correct","wrong"); btn.disabled=false;});

  timeLeft=20; document.getElementById('timer').innerHTML=timeLeft;
  document.getElementById('progressBar').style.width="100%";
  document.getElementById('questionCount').innerText="Frage "+(current+1)+" von "+newsList.length;

  clearInterval(timerInterval);
  timerInterval=setInterval(()=>{
    timeLeft--; document.getElementById('timer').innerHTML=timeLeft;
    document.getElementById('progressBar').style.width=(timeLeft/20*100)+"%";
    if(timeLeft<=0){ clearInterval(timerInterval); document.getElementById('result').style.display='block'; document.getElementById('result').innerHTML="Zeit vorbei! âŒ "+newsList[current].explanation; current++; setTimeout(showNews,2000);}
  },1000);
}

function choose(option, button){
  clearInterval(timerInterval);
  let correct=newsList[current].answer;
  let explanation=newsList[current].explanation;
  document.getElementById('result').style.display='block';

  if(option===correct){
    score+=1;
    document.getElementById('result').innerHTML="Richtig! âœ… "+explanation;
    document.getElementById('correctSound').play();
  } else {
    document.getElementById('result').innerHTML="Falsch! âŒ "+explanation;
    document.getElementById('wrongSound').play();
  }

  document.getElementById('scoreDisplay').innerText="Punkte: "+score;
  document.querySelectorAll(".choice").forEach(btn=>{btn.disabled=true; if(btn.textContent===correct) btn.classList.add("correct");});
  if(option!==correct && option!=="Unsicher") button.classList.add("wrong");

  current++; setTimeout(showNews,2000);
}

function showGameOver(score){
  document.getElementById('news').style.display='none';
  document.getElementById('choices').style.display='none';
  document.getElementById('timer').style.display='none';
  document.getElementById('progressContainer').style.display='none';
  document.getElementById('result').style.display='none';
  document.getElementById('questionCount').style.display='none';

  const gameOver=document.getElementById('gameOver');
  const title=document.getElementById('gameOverTitle');
  const message=document.getElementById('gameOverMessage');
  const scoreText=document.getElementById('gameOverScore');

  gameOver.style.display='block'; gameOver.classList.remove('show');

  if(score>=Math.ceil(newsList.length/2)){
    title.innerText="ðŸŽ‰ Du hast gewonnen!"; message.innerText="GlÃ¼ckwunsch! Du hast mehr als die HÃ¤lfte der Punkte erreicht.";
  } else {
    title.innerText="ðŸ˜ž Du hast verloren!"; message.innerText="Leider hast du weniger als die HÃ¤lfte der Punkte erreicht.";
  }

  scoreText.innerText="Punkte: "+score;
  setTimeout(()=>{ gameOver.classList.add('show'); },50);
}

function restartGame(){ document.getElementById('gameOver').classList.remove('show'); document.getElementById('gameOver').style.display='none'; startGame();}
</script>
</body>
</html>

